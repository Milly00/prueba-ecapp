import{l as me,p as de}from"./chunk-TG5YIHOQ.js";import{c as se}from"./chunk-LB3T4ZK7.js";import{a as Q}from"./chunk-VPK7KDXR.js";import{a as E,b as P}from"./chunk-5NJU5IHM.js";import{a as G,b as W,c as K}from"./chunk-5W5YFXJA.js";import{Cb as T,Da as s,Dc as L,Ec as re,Fc as B,Gc as ae,Ic as ce,Ja as u,Jc as U,Ka as r,La as a,Lc as H,Ma as m,Pa as M,Ra as f,Sa as p,Td as J,V as C,Xa as d,Ya as ee,Za as x,_ as y,_a as te,a as Y,ab as S,b as Z,ca as q,da as _,ea as g,gb as ie,gc as ne,hb as oe,hc as V,jc as k,kc as F,lc as A,nc as D,nd as le,oa as I,od as $,qd as z,rc as j,ub as R,va as l,vb as O,vc as N,wa as v,za as w}from"./chunk-MRJSE2RQ.js";var pe=(()=>{let e=class e{filterVehicles(o,i){return i.filter(c=>c.code.toLowerCase().includes(o))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Se(t,e){if(t&1){let n=M();r(0,"div",19)(1,"mat-card",20)(2,"mat-card-content")(3,"div",21)(4,"div",21),m(5,"img",22),r(6,"div",23)(7,"h6",24),d(8),a(),r(9,"div",25)(10,"div",8)(11,"span",26),m(12,"i-tabler",27),d(13),a()(),r(14,"div",8)(15,"span",26),m(16,"i-tabler",28),d(17),a()()()()(),r(18,"button",29),f("click",function(){let c=_(n).$implicit,h=p(2);return g(h.sendVehicle(c))}),m(19,"i-tabler",30),a()()()()()}if(t&2){let n=e.$implicit;l(5),s("src",n.imagePath,I),l(3),x(" ",n.code," "),l(5),x(" ",n.vehicleType," "),l(4),x(" ",n.plate," ")}}function Re(t,e){if(t&1){let n=M();r(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"h3",9),d(5,"Veh\xEDculos"),a()(),r(6,"div",10)(7,"i-tabler",11),f("click",function(){_(n);let i=p();return g(i.openModal())}),a()()(),r(8,"div",12)(9,"div",8)(10,"mat-form-field",13),m(11,"input",14),r(12,"mat-icon",2),m(13,"i-tabler",15),a()()()(),r(14,"div",16)(15,"div",8)(16,"ng-scrollbar",17),u(17,Se,20,4,"div",18),a()()()()()}if(t&2){let n=p();l(11),s("formControl",n.searchTerm),l(6),s("ngForOf",n.filterVehicles)}}var We=(()=>{let e=class e{constructor(o,i){this.filter=o,this.sidebarService=i,this.vehicle=new w,this.searchTerm=new j,this.valueVehicle="",this.allVehicles=[{id:1,code:"VH8900404",vehicleType:"CARRETA",imagePath:"assets/images/products/s6.jpg",plate:"ASUDI89"},{id:2,code:"VH2900404",vehicleType:"CARRETA",imagePath:"assets/images/products/s6.jpg",plate:"ASUDI89"},{id:3,code:"VH1900404",vehicleType:"CARRETA",imagePath:"assets/images/products/s6.jpg",plate:"AOPDI89"},{id:4,code:"VH8900408",vehicleType:"CARRETA",imagePath:"assets/images/products/s6.jpg",plate:"BNUDI89"},{id:4,code:"VH8900408",vehicleType:"CARRETA",imagePath:"assets/images/products/s6.jpg",plate:"PODDI89"},{id:4,code:"VH8900408",vehicleType:"CARRETA",imagePath:"assets/images/products/s6.jpg",plate:"DJDDI89"},{id:4,code:"VH8900408",vehicleType:"CARRETA",imagePath:"assets/images/products/s6.jpg",plate:"ASUDI89"}],this.filterVehicles=[],this.opened=!1,this.showModal=!1,this.getAssociates()}ngOnInit(){this.searchUser()}openModal(){this.opened=!this.opened,this.showModal=!this.showModal,this.sidebarService.showModal.next(this.showModal)}getAssociates(){this.filterVehicles=this.allVehicles}searchUser(){this.searchTerm.valueChanges.subscribe(o=>{if(o.length>2){let i=this.filter.filterVehicles(o.toLowerCase(),this.allVehicles);i!==void 0?this.filterVehicles=i:this.getAssociates()}else this.getAssociates()})}sendVehicle(o){this.openModal(),this.valueVehicle=o.code,this.vehicle.emit(o)}};e.\u0275fac=function(i){return new(i||e)(v(pe),v(Q))},e.\u0275cmp=y({type:e,selectors:[["app-modal-vehicles"]],outputs:{vehicle:"vehicle"},standalone:!0,features:[S],decls:7,vars:2,consts:[["appearance","outline",1,"w-100","hide-hint","primary",3,"click"],["readonly","true","matInput","",3,"value"],["matSuffix",""],["name","truck-delivery",1,"icon-20"],["class","modal-vehicles",4,"ngIf"],[1,"modal-vehicles"],[1,"modal-vehicles-content"],[1,"row","p-20"],[1,"col"],[1,"modal-vehicles-content__title-modal"],[1,"col","end","modal-vehicles-content__icon"],["name","x",1,"icon-24",3,"click"],[1,"row","p-16"],["appearance","outline",1,"w-100"],["matInput","","placeholder","Buscar Veh\xEDculos",3,"formControl"],["name","search",1,"icon-20"],[1,"row","modal-vehicles-content__card-vehicles"],[1,"position-relative",2,"height","calc(100vh - 200px)"],["scrollViewport","","class","row  modal-vehicles-content__card-vehicles__body",4,"ngFor","ngForOf"],["scrollViewport","",1,"row","modal-vehicles-content__card-vehicles__body"],[1,"cardWithShadow"],[1,"d-flex","align-items-center"],["alt","users","width","48",1,"rounded",3,"src"],[1,"m-l-16"],[1,"f-s-14","mat-subtitle-1","f-w-600"],[1,"row"],[1,"d-flex","align-items-center","mat-body-1","f-s-12"],["name","truck",1,"icon-14","m-r-4"],["name","2fa",1,"icon-14","m-r-4"],["color","basic","mat-mini-fab","",1,"m-l-auto",3,"click"],["color","primary","name","circle-plus",1,"icon-18"]],template:function(i,c){i&1&&(r(0,"mat-form-field",0),f("click",function(){return c.openModal()}),r(1,"mat-label"),d(2,"Veh\xEDculos"),a(),m(3,"input",1),r(4,"mat-icon",2),m(5,"i-tabler",3),a()(),u(6,Re,18,2,"div",4)),i&2&&(l(3),s("value",c.valueVehicle),l(3),s("ngIf",c.opened===!0))},dependencies:[T,R,O,J,F,V,k,B,U,H,$,z,P,E,L,A,D,N,K,W,G],styles:['@charset "UTF-8";@import"https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap";.modal-vehicles[_ngcontent-%COMP%]{height:100%;position:fixed;z-index:1000;top:0;right:0;background-color:#11111145;margin:0;padding:0;transform:none;visibility:visible}.modal-vehicles[_ngcontent-%COMP%]   .modal-vehicles-content[_ngcontent-%COMP%]{position:fixed;right:0;height:100vh;width:700px;background-color:#fff}@media screen and (min-width: 360px){.modal-vehicles[_ngcontent-%COMP%]   .modal-vehicles-content[_ngcontent-%COMP%]{width:100%}}@media screen and (min-width: 768px){.modal-vehicles[_ngcontent-%COMP%]   .modal-vehicles-content[_ngcontent-%COMP%]{width:500px}}.modal-vehicles[_ngcontent-%COMP%]   .modal-vehicles-content__icon[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:end}.modal-vehicles[_ngcontent-%COMP%]   .modal-vehicles-content__title-modal[_ngcontent-%COMP%]{margin:0;text-align:justify}.modal-vehicles[_ngcontent-%COMP%]   .modal-vehicles-content__card-vehicles[_ngcontent-%COMP%]{display:block;margin:0 20px}.modal-vehicles[_ngcontent-%COMP%]   .modal-vehicles-content__card-vehicles__body[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin-bottom:10px;width:100%}.user-category[_ngcontent-%COMP%]{margin-top:-45px;z-index:1;position:relative}.card-overlay[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:242px}.text-decoration-line-through[_ngcontent-%COMP%]{text-decoration:line-through}.cart-btn[_ngcontent-%COMP%]{position:absolute;right:16px;top:-21px}']});let t=e;return t})();var ue=(()=>{let e=class e{filterMicroroutes(o,i){return i.filter(c=>c.name.toLowerCase().includes(o))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var he=(()=>{let e=class e{setElementsArrayByCode(o,i,c){return c.some(b=>b.code===o)&&c.length>0?c.filter(b=>b.code!==o):[...c,i]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ee(t,e){if(t&1&&(r(0,"mat-option",27),d(1),ie(2,"nameColumnTable"),a()),t&2){let n=e.$implicit;s("value",n),l(),ee(oe(2,2,n))}}function Pe(t,e){if(t&1&&(r(0,"div",13)(1,"mat-form-field",24)(2,"mat-select",25),u(3,Ee,3,4,"mat-option",26),a()()()),t&2){let n=p(2);l(3),s("ngForOf",n.status)}}function Ve(t,e){t&1&&(r(0,"div",28)(1,"mat-form-field",29)(2,"mat-label"),d(3,"Tipo de Microruta"),a(),m(4,"input",30),a()())}function ke(t,e){t&1&&(r(0,"div",31)(1,"button",32)(2,"div",33),m(3,"i-tabler",34),r(4,"span"),d(5," Buscar"),a()()(),r(6,"button",35)(7,"div",33)(8,"mat-icon",36),d(9,"search_off"),a()()()())}function Fe(t,e){if(t&1){let n=M();r(0,"mat-checkbox",50),f("change",function(){_(n);let i=p().$implicit,c=p(2);return g(c.addMicroRoutes(i))}),a()}if(t&2){let n=p().$implicit;s("checked",n.selected)}}function Ae(t,e){if(t&1){let n=M();r(0,"button",51),f("click",function(){_(n);let i=p().$implicit,c=p(2);return g(c.sendRoute(i))}),m(1,"i-tabler",52),a()}}function De(t,e){if(t&1&&(r(0,"div",37)(1,"mat-card",38)(2,"mat-card-content")(3,"div",33)(4,"div",33),m(5,"img",39),r(6,"div",40)(7,"h6",41),d(8),a(),r(9,"div",42)(10,"span",43),m(11,"i-tabler",44),d(12),a(),r(13,"span",45),m(14,"i-tabler",46),d(15),a()()()(),r(16,"div",47),u(17,Fe,1,1,"mat-checkbox",48),a(),u(18,Ae,2,0,"button",49),a()()()()),t&2){let n=e.$implicit,o=p(2);l(5),s("src",n.imageMicroRoute,I),l(3),te(" ",n.name," - ",n.code," "),l(4),x(" ",n.macroRouteId," "),l(3),x(" ",n.operationStartDate," "),l(2),s("ngIf",o.showFilters),l(),s("ngIf",!o.showFilters)}}function je(t,e){if(t&1){let n=M();r(0,"div",7)(1,"div",31)(2,"button",53),f("click",function(){_(n);let i=p(2);return g(i.sendCollections())}),r(3,"div",33),m(4,"i-tabler",54),r(5,"span"),d(6,"Agregar"),a()()()()()}}function Ne(t,e){if(t&1){let n=M();r(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"h3",9),d(5,"Micro-Rutas"),a()(),r(6,"div",10)(7,"i-tabler",11),f("click",function(){_(n);let i=p();return g(i.openModal())}),a()()(),r(8,"div",12)(9,"div",13)(10,"mat-form-field",14),m(11,"input",15),r(12,"mat-icon",2),m(13,"i-tabler",16),a()()(),u(14,Pe,4,1,"div",17)(15,Ve,5,0,"div",18)(16,ke,10,0,"div",19),a(),r(17,"div",20)(18,"div",8)(19,"ng-scrollbar",21),u(20,De,19,7,"div",22),a()()(),u(21,je,7,0,"div",23),a()()}if(t&2){let n=p();l(11),s("formControl",n.searchTerm),l(3),s("ngIf",n.showFilters),l(),s("ngIf",n.showFilters),l(),s("ngIf",n.showFilters),l(4),s("ngForOf",n.filterMicroroutes),l(),s("ngIf",n.showFilters)}}var mt=(()=>{let e=class e{constructor(o,i,c,h){this.filter=o,this.sidebarService=i,this.setArray=c,this.store=h,this.microroute=new w,this.collectionMicroroutes=new w,this.showFilters=!1,this.searchTerm=new j,this.valueMicroroute="",this.collectionsLocalMR=[],this.copyMicroRoutes=[],this.allMicroroutes=[{code:"MCR12349",macroRouteId:"MACREIRO",operationStartDate:"2023-10-05",name:"MicroRuta NJD",imageMicroRoute:"../assets/images/products/s6.jpg",microRouteType:"T2",selected:!1},{code:"MCR12348",macroRouteId:"MACREIRO",operationStartDate:"2023-10-05",name:"MicroRuta HDF",imageMicroRoute:"../assets/images/products/s6.jpg",microRouteType:"T2",selected:!1},{code:"MCR12346",macroRouteId:"MACREIRO",operationStartDate:"2023-10-05",name:"MicroRuta KLP",imageMicroRoute:"../assets/images/products/s6.jpg",microRouteType:"T2",selected:!1},{code:"MCR12345",macroRouteId:"MACREIRO",operationStartDate:"2023-10-05",name:"MicroRuta GTS",imageMicroRoute:"../assets/images/products/s6.jpg",microRouteType:"T2",selected:!1},{code:"MCR12346",macroRouteId:"MCSREIRO1",operationStartDate:"2023-10-05",name:"MicroRuta NBG",imageMicroRoute:"../assets/images/products/s6.jpg",microRouteType:"T2",selected:!1}],this.filterMicroroutes=[],this.opened=!1,this.showModal=!1,this.status=["ACTIVE","INACTIVE","ALL"],this.getMicroroutes()}ngOnInit(){this.searchMicroroutes()}ngOnChanges(o){this.loadMicroRoutes()}loadMicroRoutes(){let o=[...this.allMicroroutes];if(this.copyMicroRoutes.length>0)for(let i=0;i<this.copyMicroRoutes.length;i++){let c=this.copyMicroRoutes[i].code,h=o.findIndex(b=>b.code===c);h!==-1&&(o[h]=Z(Y({},o[h]),{selected:!0}))}this.filterMicroroutes=o}openModal(){this.opened=!this.opened,this.showModal=!this.showModal,this.sidebarService.showModal.next(this.showModal)}getMicroroutes(){this.filterMicroroutes=this.allMicroroutes}searchMicroroutes(){this.searchTerm.valueChanges.subscribe(o=>{if(o.length>2){let i=this.filter.filterMicroroutes(o.toLowerCase(),this.allMicroroutes);i!==void 0?this.filterMicroroutes=i:this.getMicroroutes()}else this.getMicroroutes()})}addMicroRoutes(o){let i=this.collectionsLocalMR;this.collectionsLocalMR=this.setArray.setElementsArrayByCode(o.code,o,i)}sendRoute(o){this.openModal(),this.valueMicroroute=o.name,this.microroute.emit(o)}sendCollections(){this.collectionMicroroutes.emit(this.collectionsLocalMR),this.store.dispatch(de({microRoutes:this.collectionsLocalMR})),this.openModal()}};e.\u0275fac=function(i){return new(i||e)(v(ue),v(Q),v(he),v(me))},e.\u0275cmp=y({type:e,selectors:[["app-modal-microroutes"]],inputs:{showFilters:"showFilters",copyMicroRoutes:"copyMicroRoutes"},outputs:{microroute:"microroute",collectionMicroroutes:"collectionMicroroutes"},standalone:!0,features:[q,S],decls:7,vars:2,consts:[["appearance","outline",1,"w-100","hide-hint","primary",3,"click"],["readonly","true","matInput","",3,"value"],["matSuffix",""],["name","map-pins",1,"icon-20"],["class","modal-routes",4,"ngIf"],[1,"modal-routes"],[1,"modal-routes-content"],[1,"row","p-20"],[1,"col"],[1,"modal-routes-content__title-modal"],[1,"col","end","modal-routes-content__icon"],["name","x",1,"icon-24",3,"click"],[1,"row","p-16"],[1,"col-lg-6"],["appearance","outline",1,"w-100"],["matInput","","placeholder","Buscar Micro-Rutas",3,"formControl"],["name","search",1,"icon-20"],["class","col-lg-6",4,"ngIf"],["class","col-lg-6 m-b-16",4,"ngIf"],["class","col-lg-6 end",4,"ngIf"],[1,"row","modal-routes-content__card-routes"],[1,"position-relative",2,"height","calc(100vh - 300px)"],["scrollViewport","","class","row  modal-routes-content__card-routes__body",4,"ngFor","ngForOf"],["class","row p-20",4,"ngIf"],["appearance","outline",1,"w-100","hide-hint","m-b-16"],["placeholder","Estado"],["selected","",3,"value",4,"ngFor","ngForOf"],["selected","",3,"value"],[1,"col-lg-6","m-b-16"],["appearance","outline",1,"w-100","hide-hint"],["matInput",""],[1,"col-lg-6","end"],["mat-fab","","extended","","color","primary","aria-label","Example icon button with a delete icon"],[1,"d-flex","align-items-center"],["name","search",1,"icon-20","m-r-4"],["mat-fab","","extended","","color","warn",1,"m-l-10"],[1,"icon-20","m-r-4"],["scrollViewport","",1,"row","modal-routes-content__card-routes__body"],[1,"cardWithShadow"],["alt","users","width","48",1,"rounded",3,"src"],[1,"m-l-16"],[1,"f-s-14","mat-subtitle-1","f-w-600"],[1,"row","m-l-6"],[1,"mat-body-1","f-s-12"],["name","route",1,"icon-14","m-r-4"],[1,"mat-body-1","f-s-12","m-l-16"],["name","calendar-due",1,"icon-14","m-r-4"],[1,"m-l-auto","end","fixed","m-r-20","checkbox"],["class","example-margin",3,"checked","change",4,"ngIf"],["color","basic","mat-mini-fab","","class","m-l-auto",3,"click",4,"ngIf"],[1,"example-margin",3,"checked","change"],["color","basic","mat-mini-fab","",1,"m-l-auto",3,"click"],["color","primary","name","circle-plus",1,"icon-18"],["mat-button","","extended","","color","accent","aria-label","Example icon button with a delete icon",3,"click"],["name","circle-plus",1,"icon-20","m-r-4"]],template:function(i,c){i&1&&(r(0,"mat-form-field",0),f("click",function(){return c.openModal()}),r(1,"mat-label"),d(2,"Micro-Rutas"),a(),m(3,"input",1),r(4,"mat-icon",2),m(5,"i-tabler",3),a()(),u(6,Ne,22,6,"div",4)),i&2&&(l(3),s("value",c.valueMicroroute),l(3),s("ngIf",c.opened===!0))},dependencies:[T,R,O,J,F,V,k,re,B,ae,U,ce,H,le,ne,$,z,P,E,L,A,D,N,K,W,G,se],styles:['@charset "UTF-8";@import"https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap";.modal-routes[_ngcontent-%COMP%]{height:100%;position:fixed;z-index:1000;top:0;right:0;background-color:#11111145;margin:0;padding:0;transform:none;visibility:visible}.modal-routes[_ngcontent-%COMP%]   .modal-routes-content[_ngcontent-%COMP%]{position:fixed;right:0;height:100vh;width:700px;background-color:#fff;overflow-x:hidden;overflow-y:scroll}@media screen and (min-width: 360px){.modal-routes[_ngcontent-%COMP%]   .modal-routes-content[_ngcontent-%COMP%]{width:100%}}@media screen and (min-width: 768px){.modal-routes[_ngcontent-%COMP%]   .modal-routes-content[_ngcontent-%COMP%]{width:500px}}.modal-routes[_ngcontent-%COMP%]   .modal-routes-content__icon[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:end}.modal-routes[_ngcontent-%COMP%]   .modal-routes-content__title-modal[_ngcontent-%COMP%]{margin:0;text-align:justify}.modal-routes[_ngcontent-%COMP%]   .modal-routes-content__card-routes[_ngcontent-%COMP%]{display:block;margin:0 20px}.modal-routes[_ngcontent-%COMP%]   .modal-routes-content__card-routes__body[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin-bottom:10px;width:100%}.modal-routes[_ngcontent-%COMP%]   .modal-routes-content__card-routes__body[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{width:auto;position:fixed;margin-right:20px;display:flex;right:0}.user-category[_ngcontent-%COMP%]{margin-top:-45px;z-index:1;position:relative}.card-overlay[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:242px}.text-decoration-line-through[_ngcontent-%COMP%]{text-decoration:line-through}.cart-btn[_ngcontent-%COMP%]{position:absolute;right:16px;top:-21px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}']});let t=e;return t})();export{We as a,he as b,mt as c};
